import java.io.*;
import java.net.*;
import java.util.Base64;
import java.util.Random;

public class UDPserver {
    private static final int MIN_PORT = 50000;
    private static final int MAX_PORT = 51000;
    private static final int BUFFER_SIZE = 1024;

    public static void main(String[] args) {
        if (args.length != 1) {
            System.err.println("Usage: java UDPserver <port>");
            System.exit(1);
        }

        int serverPort = Integer.parseInt(args[0]);
        DatagramSocket socket = null;

        try {
            // 创建主服务器套接字
            socket = new DatagramSocket(serverPort);
            System.out.println("Server started on port " + serverPort);

            byte[] buffer = new byte[BUFFER_SIZE];
            while (true) {
                DatagramPacket packet = new DatagramPacket(buffer, buffer.length);
                socket.receive(packet);
                String request = new String(packet.getData(), 0, packet.getLength()).trim();
